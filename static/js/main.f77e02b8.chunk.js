(this.webpackJsonpnotas=this.webpackJsonpnotas||[]).push([[0],{24:function(t,e,n){},26:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),a=n(18),i=n.n(a),s=(n(24),n(3)),o=n.n(s),u=n(4),d=n(5),l=n(6),j=(n(26),n(0));function f(t){var e=t.item,n=t.actualIndex,c=t.index,r=t.onHandlePinned,a=t.onHandleSelectNote;return Object(j.jsxs)("div",{className:c===n?"note activeNote":"note",onClick:function(t){return function(t,e){a(t,e)}(e,t)},children:[Object(j.jsx)("div",{children:""===e.title?"[Sin t\xedtulo]":e.title.substring(0,20)}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"pinButton",onClick:function(){return function(t,e){r(t,e)}(e,c)},children:e.pinned?"Pinned":"Pin"})})]},e.id)}function p(t){var e=t.children;return Object(j.jsx)("div",{children:e})}var b=r.a.createContext({onNew:function(){},onSearch:function(){}}),x=r.a.createContext(0);function h(t){var e=t.statuscode;return Object(j.jsxs)("div",{className:"statusCodeContainer",children:[0===e?" ":"",1===e?"saving...":"",2===e?"document saved \ud83d\udc4d":""]})}function v(t){var e=t.item,n=t.onTitleChanged,r=t.onTextChanged,a=Object(c.useContext)(b),i=Object(c.useContext)(x);return Object(j.jsxs)("div",{className:"editor",children:[Object(j.jsx)(h,{statuscode:i}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{className:"title",onChange:function(t){n(t),a.autosave()},value:e.title})}),Object(j.jsx)("div",{className:"editor-textarea",children:Object(j.jsx)("textarea",{className:"content",onChange:function(t){r(t),a.autosave()},value:e.text})})]})}var O=n(28);function m(t){var e=t.text;return Object(j.jsxs)("div",{className:"preview ",children:[Object(j.jsx)(O,{source:e}),Object(j.jsx)("div",{})]})}function w(t){var e=t.children;return Object(j.jsx)("div",{className:"panel",children:e})}function g(){var t=Object(c.useContext)(b);return Object(j.jsxs)("div",{className:"menu",children:[Object(j.jsx)("input",{className:"search",onChange:function(e){t.onSearch(e)},placeholder:"buscar..."}),Object(j.jsx)("button",{className:"btn",onClick:function(){t.onNew()},children:"+ Nueva nota"})]})}var N=n(19),y=n.n(N);function C(t,e){return S.apply(this,arguments)}function S(){return(S=Object(d.a)(o.a.mark((function t(e,n){var c,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(n)});case 2:return c=t.sent,t.next=5,c.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,e){return I.apply(this,arguments)}function I(){return(I=Object(d.a)(o.a.mark((function t(e,n){var c,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:"put",headers:{"content-type":"application/json"},body:JSON.stringify(n)});case 2:return c=t.sent,t.next=5,c.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return T.apply(this,arguments)}function T(){return(T=Object(d.a)(o.a.mark((function t(e){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:return c=t.sent,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var D=function(){var t,e,n,r=Object(c.useState)([]),a=Object(l.a)(r,2),i=a[0],s=a[1],h=Object(c.useState)([]),O=Object(l.a)(h,2),N=O[0],S=O[1],I=Object(c.useState)(-1),T=Object(l.a)(I,2),D=T[0],H=T[1],J=Object(c.useState)(!1),E=Object(l.a)(J,2),B=E[0],A=E[1],F=Object(c.useState)(0),L=Object(l.a)(F,2),M=L[0],q=L[1],z="http://localhost:3010/";function G(){return(G=Object(d.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P("".concat(z));case 2:e=t.sent,n=R(e),s(n),S(n),i.length>0&&H(0);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(){return(K=Object(d.a)(o.a.mark((function t(){var e,n,c,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(u.a)(i),n={id:y()(),title:"",text:"",pinned:!1,created:Date.now()},e.unshift(n),c=R(e),s(c),S(c),r=c.findIndex((function(t){return t.id==n.id})),H(r),t.next=10,C("http://localhost:3010/new",n);case 10:a=t.sent,console.log(a);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t.sort((function(t,e){return new Date(e.created)-new Date(t.created)&&e.pinned})):t.sort((function(t,e){return new Date(t.created)-new Date(e.created)}))}function R(t){var e=Object(u.a)(t),n=e.filter((function(t){return!0===t.pinned})),c=e.filter((function(t){return!1===t.pinned}));return n=Q(n,!0),c=Q(c,!0),[].concat(Object(u.a)(n),Object(u.a)(c))}function U(t,e){if(e.target.classList.contains("note")){var n=i.findIndex((function(e){return e==t}));H(n)}}function V(t){var e=t.target.value,n=Object(u.a)(i);n[D].title=e,s(n)}function W(t){var e=t.target.value,n=Object(u.a)(i);n[D].text=e,s(n)}function X(t,e){H(e);var n=t.id,c=Object(u.a)(i);c[e].pinned=!c[e].pinned;var r=R(c);s(r),S(r);var a=r.findIndex((function(t){return t.id==n}));H(a)}function Y(){return(Y=Object(d.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i[D],t.next=3,k("".concat(z,"update"),e);case 3:n=t.sent,q(2),setTimeout((function(){q(0)}),1e3),console.log(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e=null===(t=i[D])||void 0===t?void 0:t.title,n="Notes",Object(c.useEffect)((function(){document.title=""!==e?e:n})),Object(c.useEffect)((function(){!function(){G.apply(this,arguments)}()}),[]),Object(j.jsx)("div",{className:"App container",children:Object(j.jsxs)(b.Provider,{value:{onNew:function(){return K.apply(this,arguments)},onSearch:function(t){var e=t.target.value;if(""===e)S(Object(u.a)(i));else{S(Object(u.a)(i));var n=N.filter((function(t){return t.title.indexOf(e)>=0||t.text.indexOf(e)>=0}));0==n.length?H(-1):(S(Object(u.a)(n)),H(0))}},autosave:function(){console.log("autosave",B),B||(A(!0),q(1),setTimeout((function(){!function(){Y.apply(this,arguments)}(),A(!1)}),3e3))}},children:[Object(j.jsxs)(w,{children:[Object(j.jsx)(g,{}),Object(j.jsx)(p,{children:N.map((function(t,e){return Object(j.jsx)(f,{actualIndex:D,item:t,index:e,onHandlePinned:X,onHandleSelectNote:U},e)}))})]}),D>=0?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(x.Provider,{value:M,children:[Object(j.jsx)(v,{item:i[D],onTitleChanged:V,onTextChanged:W}),Object(j.jsx)(m,{text:i[D].text})]})}):""]})})};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(D,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.f77e02b8.chunk.js.map